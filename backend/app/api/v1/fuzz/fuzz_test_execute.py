from fastapi import APIRouter
from fastapi import Request
from common.jwt import DependsJwtAuth
from services.fuzz_test_execute_service import FuzzTestExecuteService
from common.response.response_schema import response_base


router = APIRouter()

@router.get('/execute', summary='执行模糊测试', dependencies=[DependsJwtAuth])
async def execute(request: Request, ip: str, port: int, suite_name: str):
    data = await FuzzTestExecuteService.execute(request, ip, port, suite_name)
    print(data)
    return await response_base.success()


