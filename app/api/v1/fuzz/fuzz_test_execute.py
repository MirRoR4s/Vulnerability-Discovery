from fastapi import APIRouter, Request
from fastapi.responses import RedirectResponse
from common.jwt import DependsJwtAuth
from services.fuzz_test_execute_service import FuzzTestExecuteService

router = APIRouter()

@router.get('/execute', summary='执行模糊测试', dependencies=[DependsJwtAuth])
async def execute(request: Request, ip: str, port: int, suite_name: str):
    await FuzzTestExecuteService.execute(request, ip, port, suite_name)
    return RedirectResponse("http://192.168.253.130:26000")

